{"ast":null,"code":"import _toConsumableArray from\"/Users/pureg/Desktop/junoCollege/bootcamp/cohort46/juno/makeupCart/makeup copy/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/pureg/Desktop/junoCollege/bootcamp/cohort46/juno/makeupCart/makeup copy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';//import axios//\nimport axios from'axios';//pulled from Node modules folder\n// import Form from \"./components/Form\";\nimport Loader from'./Loader';import Header from'./Header';import Form from'./Form';import Navbar from'./Navbar';import importImg from'../images/productNotFound.png';import Footer from'./Footer';import Product from'./Product';import Results from'./Results';//products are a variable containing our pieces of products\n//setProducts is a function to update products\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Makeup=function Makeup(){var navigate=useNavigate();//use state is setup for products\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];//Use state is set to filtered products. Filtered products will be rendered to the page.\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredProducts=_useState4[0],setFilteredProducts=_useState4[1];//filter the price\nvar _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userChoice=_useState6[0],setUserChoice=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),userPrice=_useState8[0],setUserPrice=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),userQuery=_useState10[0],setUserQuery=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),userPriceQuery=_useState12[0],setUserPriceQuery=_useState12[1];//We are setting the default state of loading to true\nvar _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];//this hook will run only when makeup app mounts\n//this will set the state for the shopping cart/nav menu\nvar _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),openCart=_useState16[0],setOpenCart=_useState16[1];// Creating a handleFormChange function that will update the user product choice state\n// to their selection\nvar _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),cartItems=_useState18[0],setCartItems=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),formError=_useState20[0],setFormError=_useState20[1];var handleFormChange=function handleFormChange(event){setUserChoice(event.target.value);};// Creating a handlePriceChange function that will update the user price choice state based on their selection\nvar handlePriceChange=function handlePriceChange(event){setUserPrice(event.target.value);};//handleFormSubmit function will prevent the form from refreshing\nvar handleFormSubmit=function handleFormSubmit(event){event.preventDefault();console.log(userChoice);setUserQuery(userChoice);setUserPriceQuery(userPrice);};// will toggle the open and close of the actual element\nvar handleOpenCart=function handleOpenCart(){// setOpenCart(!openCart)\n};//handleAddToCart receives product as an argument that needs to be stored into the cart\nvar handleAddToCart=function handleAddToCart(product){//check if we have existing cart items in the local storage\nvar existingCartItems=JSON.parse(localStorage.getItem('cartItems'));console.log({existingCartItems:existingCartItems});//if we have existing cartItems then we would append that array of cartItems\nif(existingCartItems){localStorage.setItem('cartItems',JSON.stringify([].concat(_toConsumableArray(existingCartItems),[product])));}//if we don't have existing cartItems then we will store a new one\nelse{localStorage.setItem('cartItems',JSON.stringify([product]));}navigate('/cart');};useEffect(function(){//API request\naxios({url:'https://makeup-api.herokuapp.com/api/v1/products.json'}).then(function(response){setProducts(response.data);//all products will be rendered\nsetFilteredProducts(response.data);//filtered products will be\n//rendered.\n//loading is set to false so it will stop loading once products are loaded  on the page\nsetLoading(false);setFormError(false);}).catch(function(error){return setFormError(true);});// sets an error if the API returns and error\n},[]);//created a useEffect to store the filtered products which will return the product type\nuseEffect(function(){var filteredNewProducts=products.filter(function(product){return product.product_type===userQuery;});setFilteredProducts(filteredNewProducts);},[userQuery]);var displayProducts=filteredProducts.filter(function(price){return(// filter prices based on selected drop down menu\nuserPriceQuery==='1-10'?parseInt(price.price)>1&&parseInt(price.price)<10:userPriceQuery==='10-15'?parseInt(price.price)>11&&parseInt(price.price)<=14:userPriceQuery==='15-25'?parseInt(price.price)>15:parseInt(price.price)>15);//filtering the products to 20 per page\n}).slice(0,20);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{handleOpenCart:handleOpenCart}),openCart&&/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:\"Hello\"})}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(Form,{handleFormChange:handleFormChange,handlePriceChange:handlePriceChange,handleFormSubmit:handleFormSubmit,userChoice:userChoice,userPrice:userPrice}),/*#__PURE__*/_jsx(Results,{formError:formError}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:displayProducts.length===0?/*#__PURE__*/_jsx(\"img\",{src:importImg,id:\"notFound\",alt:\"import\"}):/*#__PURE__*/_jsx(_Fragment,{children:displayProducts.map(function(product,index){return/*#__PURE__*/ (//will load selections from the API\n_jsx(Product,{product:product,handleAddToCart:handleAddToCart},index));})})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Makeup;","map":{"version":3,"names":["useEffect","useState","useNavigate","axios","Loader","Header","Form","Navbar","importImg","Footer","Product","Results","Makeup","navigate","products","setProducts","filteredProducts","setFilteredProducts","userChoice","setUserChoice","userPrice","setUserPrice","userQuery","setUserQuery","userPriceQuery","setUserPriceQuery","loading","setLoading","openCart","setOpenCart","cartItems","setCartItems","formError","setFormError","handleFormChange","event","target","value","handlePriceChange","handleFormSubmit","preventDefault","console","log","handleOpenCart","handleAddToCart","product","existingCartItems","JSON","parse","localStorage","getItem","setItem","stringify","url","then","response","data","catch","error","filteredNewProducts","filter","product_type","displayProducts","price","parseInt","slice","length","map","index"],"sources":["/Users/pureg/Desktop/junoCollege/bootcamp/cohort46/juno/makeupCart/makeup copy/src/components/Makeup.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n//import axios//\nimport axios from 'axios'; //pulled from Node modules folder\n// import Form from \"./components/Form\";\nimport Loader from './Loader';\nimport Header from './Header';\nimport Form from './Form';\nimport Navbar from './Navbar';\nimport importImg from '../images/productNotFound.png';\nimport Footer from './Footer';\nimport Product from './Product';\nimport Results from './Results';\n\n//products are a variable containing our pieces of products\n//setProducts is a function to update products\nconst Makeup = () => {\n  const navigate = useNavigate();\n  //use state is setup for products\n  const [products, setProducts] = useState([]);\n  //Use state is set to filtered products. Filtered products will be rendered to the page.\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  //filter the price\n  const [userChoice, setUserChoice] = useState('');\n  const [userPrice, setUserPrice] = useState('');\n\n  const [userQuery, setUserQuery] = useState('');\n  const [userPriceQuery, setUserPriceQuery] = useState('');\n  //We are setting the default state of loading to true\n  const [loading, setLoading] = useState(true);\n  //this hook will run only when makeup app mounts\n  //this will set the state for the shopping cart/nav menu\n  const [openCart, setOpenCart] = useState(false);\n  // Creating a handleFormChange function that will update the user product choice state\n  // to their selection\n  const [cartItems, setCartItems] = useState([]);\n\n  const [formError, setFormError] = useState(false);\n\n  const handleFormChange = (event) => {\n    setUserChoice(event.target.value);\n  };\n  // Creating a handlePriceChange function that will update the user price choice state based on their selection\n  const handlePriceChange = (event) => {\n    setUserPrice(event.target.value);\n  };\n\n  //handleFormSubmit function will prevent the form from refreshing\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n    console.log(userChoice);\n    setUserQuery(userChoice);\n    setUserPriceQuery(userPrice);\n  };\n  // will toggle the open and close of the actual element\n  const handleOpenCart = () => {\n    // setOpenCart(!openCart)\n  };\n  //handleAddToCart receives product as an argument that needs to be stored into the cart\n  const handleAddToCart = (product) => {\n    //check if we have existing cart items in the local storage\n    let existingCartItems = JSON.parse(localStorage.getItem('cartItems'));\n    console.log({ existingCartItems });\n    //if we have existing cartItems then we would append that array of cartItems\n    if (existingCartItems) {\n      localStorage.setItem(\n        'cartItems',\n        JSON.stringify([...existingCartItems, product])\n      );\n    }\n    //if we don't have existing cartItems then we will store a new one\n    else {\n      localStorage.setItem('cartItems', JSON.stringify([product]));\n    }\n\n    navigate('/cart');\n  };\n\n  useEffect(() => {\n    //API request\n    axios({\n      url: 'https://makeup-api.herokuapp.com/api/v1/products.json',\n    })\n      .then((response) => {\n        setProducts(response.data); //all products will be rendered\n        setFilteredProducts(response.data); //filtered products will be\n        //rendered.\n        //loading is set to false so it will stop loading once products are loaded  on the page\n        setLoading(false);\n        setFormError(false);\n      })\n      .catch((error) => setFormError(true)); // sets an error if the API returns and error\n  }, []);\n  //created a useEffect to store the filtered products which will return the product type\n  useEffect(() => {\n    const filteredNewProducts = products.filter((product) => {\n      return product.product_type === userQuery;\n    });\n    setFilteredProducts(filteredNewProducts);\n  }, [userQuery]);\n\n  const displayProducts = filteredProducts\n    .filter((price) => {\n      return (\n        // filter prices based on selected drop down menu\n        userPriceQuery === '1-10'\n          ? parseInt(price.price) > 1 && parseInt(price.price) < 10\n          : userPriceQuery === '10-15'\n          ? parseInt(price.price) > 11 && parseInt(price.price) <= 14\n          : userPriceQuery === '15-25'\n          ? parseInt(price.price) > 15\n          : parseInt(price.price) > 15\n      );\n      //filtering the products to 20 per page\n    })\n    .slice(0, 20);\n\n  return (\n    <>\n      <Navbar handleOpenCart={handleOpenCart} />\n      {openCart && (\n        <ul>\n          <li>Hello</li>\n        </ul>\n      )}\n      <Header />\n      <div className=\"wrapper\">\n        {/* passing the props from makeup AKA parent to the form AKA child */}\n        <Form\n          handleFormChange={handleFormChange}\n          handlePriceChange={handlePriceChange}\n          handleFormSubmit={handleFormSubmit}\n          userChoice={userChoice}\n          userPrice={userPrice}\n        />\n        <Results formError={formError} />\n        {/* <Form /> */}\n        {/* if page is loading then return loader if loading is complete than return products */}\n        {loading ? (\n          <Loader />\n        ) : (\n          <div className=\"products\">\n            {/* filter the price  */}\n            {displayProducts.length === 0 ? (\n              <img src={importImg} id=\"notFound\" alt=\"import\"></img>\n            ) : (\n              <>\n                {displayProducts.map((product, index) => (\n                  //will load selections from the API\n                  <Product\n                    key={index}\n                    product={product}\n                    handleAddToCart={handleAddToCart}\n                  />\n                ))}\n              </>\n            )}\n          </div>\n        )}\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default Makeup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}