{"ast":null,"code":"var _jsxFileName = \"/Users/pureg/Desktop/junoCollege/bootcamp/cohort46/juno/makeupCart/makeup/src/components/Makeup.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n//import axios//\nimport axios from 'axios'; //pulled from Node modules folder\n// import Form from \"./components/Form\";\nimport Loader from './Loader';\nimport Header from './Header';\nimport Form from './Form';\nimport Navbar from './Navbar';\nimport importImg from '../images/productNotFound.png';\nimport Footer from './Footer';\nimport Product from './Product';\nimport Results from './Results';\n\n//products are a variable containing our pieces of products\n//setProducts is a function to update products\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Makeup = () => {\n  _s();\n  const navigate = useNavigate();\n  //use state is setup for products\n  const [products, setProducts] = useState([]);\n  //Use state is set to filtered products. Filtered products will be rendered to the page.\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  //filter the price\n  const [userChoice, setUserChoice] = useState('');\n  const [userPrice, setUserPrice] = useState('');\n  const [userQuery, setUserQuery] = useState('');\n  const [userPriceQuery, setUserPriceQuery] = useState('');\n  //We are setting the default state of loading to true\n  const [loading, setLoading] = useState(true);\n  //this hook will run only when makeup app mounts\n  //this will set the state for the shopping cart/nav menu\n  const [openCart, setOpenCart] = useState(false);\n  // Creating a handleFormChange function that will update the user product choice state\n  // to their selection\n  const [cartItems, setCartItems] = useState([]);\n  const [formError, setFormError] = useState(false);\n  const handleFormChange = event => {\n    setUserChoice(event.target.value);\n  };\n  // Creating a handlePriceChange function that will update the user price choice state based on their selection\n  const handlePriceChange = event => {\n    setUserPrice(event.target.value);\n  };\n\n  //handleFormSubmit function will prevent the form from refreshing\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    console.log(userChoice);\n    setUserQuery(userChoice);\n    setUserPriceQuery(userPrice);\n  };\n  // will toggle the open and close of the actual element\n  const handleOpenCart = () => {\n    // setOpenCart(!openCart)\n  };\n  const handleAddToCart = product => {\n    let existingCartItems = JSON.parse(localStorage.getItem('cartItems'));\n    console.log({\n      existingCartItems\n    });\n    if (existingCartItems) {\n      localStorage.setItem('cartItems', JSON.stringify([...existingCartItems, product]));\n    } else {\n      localStorage.setItem('cartItems', JSON.stringify([product]));\n    }\n    navigate('/cart');\n  };\n  useEffect(() => {\n    //API request\n    axios({\n      url: 'https://makeup-api.herokuapp.com/api/v1/products.json'\n    }).then(response => {\n      setProducts(response.data); //all products will be rendered\n      setFilteredProducts(response.data); //filtered products will be\n      //rendered.\n      //loading is set to false so it will stop loading once products are loaded  on the page\n      setLoading(false);\n      setFormError(false);\n    }).catch(error => setFormError(true)); // sets an error if the API returns and error\n  }, []);\n  //created a useEffect to store the filtered products which will return the product type\n  useEffect(() => {\n    const filteredNewProducts = products.filter(product => {\n      return product.product_type === userQuery;\n    });\n    setFilteredProducts(filteredNewProducts);\n  }, [userQuery]);\n  const displayProducts = filteredProducts.filter(price => {\n    return (\n      // filter prices based on selected drop down menu\n      userPriceQuery === '1-10' ? parseInt(price.price) > 1 && parseInt(price.price) < 10 : userPriceQuery === '10-15' ? parseInt(price.price) > 11 && parseInt(price.price) <= 14 : userPriceQuery === '15-25' ? parseInt(price.price) > 15 : parseInt(price.price) > 15\n    );\n    //filtering the products to 20 per page\n  }).slice(0, 20);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      handleOpenCart: handleOpenCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), openCart && /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"Hello\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        handleFormChange: handleFormChange,\n        handlePriceChange: handlePriceChange,\n        handleFormSubmit: handleFormSubmit,\n        userChoice: userChoice,\n        userPrice: userPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Results, {\n        formError: formError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products\",\n        children: displayProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: importImg,\n          id: \"notFound\",\n          alt: \"import\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: displayProducts.map((product, index) =>\n          /*#__PURE__*/\n          //will load selections from the API\n          _jsxDEV(Product, {\n            product: product,\n            handleAddToCart: handleAddToCart\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 19\n          }, this))\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Makeup, \"jT6QGf4V0lKMSHAaRUsXJWhylUU=\", false, function () {\n  return [useNavigate];\n});\n_c = Makeup;\nexport default Makeup;\nvar _c;\n$RefreshReg$(_c, \"Makeup\");","map":{"version":3,"names":["useEffect","useState","useNavigate","axios","Loader","Header","Form","Navbar","importImg","Footer","Product","Results","Makeup","navigate","products","setProducts","filteredProducts","setFilteredProducts","userChoice","setUserChoice","userPrice","setUserPrice","userQuery","setUserQuery","userPriceQuery","setUserPriceQuery","loading","setLoading","openCart","setOpenCart","cartItems","setCartItems","formError","setFormError","handleFormChange","event","target","value","handlePriceChange","handleFormSubmit","preventDefault","console","log","handleOpenCart","handleAddToCart","product","existingCartItems","JSON","parse","localStorage","getItem","setItem","stringify","url","then","response","data","catch","error","filteredNewProducts","filter","product_type","displayProducts","price","parseInt","slice","length","map","index"],"sources":["/Users/pureg/Desktop/junoCollege/bootcamp/cohort46/juno/makeupCart/makeup/src/components/Makeup.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n//import axios//\nimport axios from 'axios'; //pulled from Node modules folder\n// import Form from \"./components/Form\";\nimport Loader from './Loader';\nimport Header from './Header';\nimport Form from './Form';\nimport Navbar from './Navbar';\nimport importImg from '../images/productNotFound.png';\nimport Footer from './Footer';\nimport Product from './Product';\nimport Results from './Results';\n\n//products are a variable containing our pieces of products\n//setProducts is a function to update products\nconst Makeup = () => {\n  const navigate = useNavigate();\n  //use state is setup for products\n  const [products, setProducts] = useState([]);\n  //Use state is set to filtered products. Filtered products will be rendered to the page.\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  //filter the price\n  const [userChoice, setUserChoice] = useState('');\n  const [userPrice, setUserPrice] = useState('');\n\n  const [userQuery, setUserQuery] = useState('');\n  const [userPriceQuery, setUserPriceQuery] = useState('');\n  //We are setting the default state of loading to true\n  const [loading, setLoading] = useState(true);\n  //this hook will run only when makeup app mounts\n  //this will set the state for the shopping cart/nav menu\n  const [openCart, setOpenCart] = useState(false);\n  // Creating a handleFormChange function that will update the user product choice state\n  // to their selection\n  const [cartItems, setCartItems] = useState([]);\n\n  const [formError, setFormError] = useState(false);\n\n  const handleFormChange = (event) => {\n    setUserChoice(event.target.value);\n  };\n  // Creating a handlePriceChange function that will update the user price choice state based on their selection\n  const handlePriceChange = (event) => {\n    setUserPrice(event.target.value);\n  };\n\n  //handleFormSubmit function will prevent the form from refreshing\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n    console.log(userChoice);\n    setUserQuery(userChoice);\n    setUserPriceQuery(userPrice);\n  };\n  // will toggle the open and close of the actual element\n  const handleOpenCart = () => {\n    // setOpenCart(!openCart)\n  };\n  const handleAddToCart = (product) => {\n    let existingCartItems = JSON.parse(localStorage.getItem('cartItems'));\n    console.log({ existingCartItems });\n    if (existingCartItems) {\n      localStorage.setItem(\n        'cartItems',\n        JSON.stringify([...existingCartItems, product])\n      );\n    } else {\n      localStorage.setItem('cartItems', JSON.stringify([product]));\n    }\n\n    navigate('/cart');\n  };\n\n  useEffect(() => {\n    //API request\n    axios({\n      url: 'https://makeup-api.herokuapp.com/api/v1/products.json',\n    })\n      .then((response) => {\n        setProducts(response.data); //all products will be rendered\n        setFilteredProducts(response.data); //filtered products will be\n        //rendered.\n        //loading is set to false so it will stop loading once products are loaded  on the page\n        setLoading(false);\n        setFormError(false);\n      })\n      .catch((error) => setFormError(true)); // sets an error if the API returns and error\n  }, []);\n  //created a useEffect to store the filtered products which will return the product type\n  useEffect(() => {\n    const filteredNewProducts = products.filter((product) => {\n      return product.product_type === userQuery;\n    });\n    setFilteredProducts(filteredNewProducts);\n  }, [userQuery]);\n\n  const displayProducts = filteredProducts\n    .filter((price) => {\n      return (\n        // filter prices based on selected drop down menu\n        userPriceQuery === '1-10'\n          ? parseInt(price.price) > 1 && parseInt(price.price) < 10\n          : userPriceQuery === '10-15'\n          ? parseInt(price.price) > 11 && parseInt(price.price) <= 14\n          : userPriceQuery === '15-25'\n          ? parseInt(price.price) > 15\n          : parseInt(price.price) > 15\n      );\n      //filtering the products to 20 per page\n    })\n    .slice(0, 20);\n\n  return (\n    <>\n      <Navbar handleOpenCart={handleOpenCart} />\n      {openCart && (\n        <ul>\n          <li>Hello</li>\n        </ul>\n      )}\n      <Header />\n      <div className=\"wrapper\">\n        {/* passing the props from makeup AKA parent to the form AKA child */}\n        <Form\n          handleFormChange={handleFormChange}\n          handlePriceChange={handlePriceChange}\n          handleFormSubmit={handleFormSubmit}\n          userChoice={userChoice}\n          userPrice={userPrice}\n        />\n        <Results formError={formError} />\n        {/* <Form /> */}\n        {/* if page is loading then return loader if loading is complete than return products */}\n        {loading ? (\n          <Loader />\n        ) : (\n          <div className=\"products\">\n            {/* filter the price  */}\n            {displayProducts.length === 0 ? (\n              <img src={importImg} id=\"notFound\" alt=\"import\"></img>\n            ) : (\n              <>\n                {displayProducts.map((product, index) => (\n                  //will load selections from the API\n                  <Product\n                    key={index}\n                    product={product}\n                    handleAddToCart={handleAddToCart}\n                  />\n                ))}\n              </>\n            )}\n          </div>\n        )}\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default Makeup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}